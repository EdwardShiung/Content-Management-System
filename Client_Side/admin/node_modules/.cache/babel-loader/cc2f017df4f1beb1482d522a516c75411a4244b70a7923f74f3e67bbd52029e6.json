{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from './router';\nconst http = axios.create({\n  baseURL: 'http://localhost:3000/api'\n});\n\n//Request Inerceptor\nhttp.interceptors.request.use(config => {\n  if (localStorage.eleToken) config.headers.Authorization = localStorage.eleToken;\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n//Response Interceptor\nhttp.interceptors.response.use(response => {\n  return response;\n}, error => {\n  const {\n    status\n  } = error.response;\n  if (status == 401) {\n    // Remove Token\n    localStorage.removeItem('eleToken');\n    router.push('/login');\n  }\n  return Promise.reject(error);\n});\nexport default http;","map":{"version":3,"names":["axios","router","http","create","baseURL","interceptors","request","use","config","localStorage","eleToken","headers","Authorization","error","Promise","reject","response","status","removeItem","push"],"sources":["/Users/tianyu/Desktop/CS5704_Novis_Project/Frontend/app/src/plugins/http.js"],"sourcesContent":["import axios from 'axios';\nimport router from './router';\n\nconst http = axios.create({\n    baseURL: 'http://localhost:3000/api'\n})\n\n//Request Inerceptor\nhttp.interceptors.request.use(config => {\n    if (localStorage.eleToken)\n        config.headers.Authorization = localStorage.eleToken\n    return config\n}, error => {\n    return Promise.reject(error)\n})\n\n//Response Interceptor\nhttp.interceptors.response.use(response => {\n\n    return response\n}, error => {\n\n    const { status } = error.response\n    if (status == 401) {\n        // Remove Token\n        localStorage.removeItem('eleToken')\n        router.push('/login')\n    }\n\n    return Promise.reject(error)\n})\n\nexport default http;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAM,CAAC;EACtBC,OAAO,EAAE;AACb,CAAC,CAAC;;AAEF;AACAF,IAAI,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACpC,IAAIC,YAAY,CAACC,QAAQ,EACrBF,MAAM,CAACG,OAAO,CAACC,aAAa,GAAGH,YAAY,CAACC,QAAQ;EACxD,OAAOF,MAAM;AACjB,CAAC,EAAEK,KAAK,IAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAX,IAAI,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CAACS,QAAQ,IAAI;EAEvC,OAAOA,QAAQ;AACnB,CAAC,EAAEH,KAAK,IAAI;EAER,MAAM;IAAEI;EAAO,CAAC,GAAGJ,KAAK,CAACG,QAAQ;EACjC,IAAIC,MAAM,IAAI,GAAG,EAAE;IACf;IACAR,YAAY,CAACS,UAAU,CAAC,UAAU,CAAC;IACnCjB,MAAM,CAACkB,IAAI,CAAC,QAAQ,CAAC;EACzB;EAEA,OAAOL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAeX,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}